const e={formSearchEl:document.querySelector(".js-search"),inputEl:document.querySelector(".form-control"),btnFormEl:document.querySelector(".btn-form"),galleryListEl:document.querySelector(".js-articles-container")},t=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.spText=t.button.querySelector(".span-text"),t.spinner=t.button.querySelector(".spin"),t}enable(){this.refs.button.disabled=!1,this.refs.spText.textContent="Ще",this.refs.spinner.classList.add("is-hidden")}disabled(){this.refs.button.disabled=!0,this.refs.spText.textContent="Завантажую",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0});e.formSearchEl.addEventListener("submit",(function(n){if(n.preventDefault(),s.query=n.currentTarget.elements.query.value,""===s.query)return alert("пошук не коректний");t.show(),s.resetPage(),e.galleryListEl.innerHTML="",r()})),t.refs.button.addEventListener("click",r);const s=new class{fetchDataItem(){const e={headers:{Authorization:"002081a311064500ac33bdf8092d1261"}},t=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=5&page=${this.page}`;return fetch(t,e).then((e=>e.json())).then((e=>(this.incrementPage(),e.articles)))}get query(){return this.searchQuery}set query(e){this.searchQuery=e}incrementPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.searchQuery="",this.page=1}};function r(){t.disabled(),s.fetchDataItem().then((s=>{e.galleryListEl.insertAdjacentHTML("beforeend",s.map((e=>`<li class="gallery__item item">\n<div class="thumb-img"><img src="${e.urlToImage}" alt=""></div>\n<h3 class="img-title">${e.author}</h3>\n<p class="img-text">${e.description}</p>`)).join("")),t.enable()}))}
//# sourceMappingURL=index.5ba4479b.js.map
